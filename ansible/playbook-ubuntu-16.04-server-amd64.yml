---
# This playbook contains three plays.

# Create the VirtualBox VM for the base box
- name: Create the VirtualBox VM for the base box
  hosts: localhost
  vars:
    - vm: "ubuntu-16.04-server-amd64"
    - ostype: Ubuntu_64
    - iso_mirror: "http://mirror.pnl.gov/releases/16.04/"
    - localsshport: 2270
  roles:
    - role: virtualbox-vm

# Create the Vagrant base box
- name: Create the Vagrant base box
  hosts: ubuntu-16.04-server-amd64
  remote_user: demouser
  vars:
    - vm: "ubuntu-16.04-server-amd64"
  roles:
    - role: vagrantbox

# Install the Vagrant base box
- name: Install the Vagrant base box
  hosts: localhost
  vars:
    - vm: "ubuntu-16.04-server-amd64"
  roles:
    - role: vagrantbox-install
